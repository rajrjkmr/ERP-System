	<!doctype html>
<html lang="en" ng-app="myApp">
<head>
	<meta charset="utf-8" />
	<link rel="apple-touch-icon" sizes="76x76" href="../static/img/apple-icon.png" />
	<link rel="icon" type="image/png" href="../static/img/favicon.png" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<title>Dashboard by infoget Team</title>

	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />


    <link href="../static/css/bootstrap.min.css" rel="stylesheet" />

    <!--  Material Dashboard CSS    -->
    <link href="../static/css/material-dashboard.css" rel="stylesheet"/>

    <!--  CSS for Demo Purpose, don't include it in your project     -->
    <link href="../static/css/demo.css" rel="stylesheet" />

    <!--     Fonts and icons     -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,700,300|Material+Icons' rel='stylesheet' type='text/css'>
   
	
</head>
<style> 
input{
    width: 70px;
    border: none;
    border-radius: 4px;
    font-size: 16px;
    background-color: white;
    background-position:absolute; 
    padding: 10px 5px;
    -webkit-transition: width 0.4s ease-in-out;
    transition: width 0.4s ease-in-out;
}
</style>

<body ng-controller="customersCtrl">
<div class="wraper">

	    <div class="sidebar" data-color="purple" data-image="../static/img/sidebar-1.jpg">		

			<div class="logo">
				<a href="#" class="simple-text">
					Infoget Team
				</a>
			</div>

	    	<div class="sidebar-wrapper">
	            <ul class="nav">
	                  <li>
                        <a href="/dashboard">
                            <i class="material-icons"></i>
                            <p>Dashboard</p>
                        </a>
                    </li>
                    <li class="active">
                        <a href="#">
                            <i class="material-icons"></i>
                            <p>ATTENDENCE</p>
                        </a>
                    </li>                                        
					 <li class="active">
                        <a href="/tests">
                            <i class="material-icons"></i>
                            <p>TESTS</p>
                        </a>
                    </li>
	            </ul>
	    	</div>
	    </div>

	    <div class="main-panel">
			<nav class="navbar navbar-transparent navbar-absolute">
				<div class="container-fluid">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle" data-toggle="collapse">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
						<a class="navbar-brand" href="#">IFET Dashboard</a>
					</div>
					<div class="collapse navbar-collapse">
						<ul class="nav navbar-nav navbar-right">
							<li>
								<a href="#/!" class="dropdown-toggle" data-toggle="dropdown">
									<i class="material-icons">dashboard</i>
									<p class="hidden-lg hidden-md">Dashboard</p>
								</a>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">
									<i class="material-icons">notifications</i>
									<span class="notification">5</span>
									<p class="hidden-lg hidden-md">Notifications</p>
								</a>
								<ul class="dropdown-menu">
									<li><a href="#">Mike John responded to your email</a></li>
									<li><a href="#">You have 5 new tasks</a></li>
									<li><a href="#">You're now friend with Andrew</a></li>
									<li><a href="#">Another Notification</a></li>
									<li><a href="#">Another One</a></li>
								</ul>
							</li>
							<li>
								<a href="/user" class="dropdown-toggle" data-toggle="dropdown">
	 							   <i class="material-icons">person</i>
	 							   <p class="hidden-lg hidden-md">Profile</p>
		 						</a>
							</li>
                            <li>
                                <a href="/logout">
                                   <i class="fa fa-sign-in"></i>
                                   <p class="hidden-lg hidden-md">LogOut</p>
                                </a>
                            </li>
						</ul>

						<form class="navbar-form navbar-right" role="search">
							<div class="form-group  is-empty">
								<input type="text" class="form-control" placeholder="Search">
								<span class="material-input"></span>
							</div>
							<button type="submit" class="btn btn-white btn-round btn-just-icon">
								<i class="material-icons">search</i><div class="ripple-container"></div>
							</button>
						</form>
					</div>
				</div>
			</nav>

<!-- add attendence -->


<!-- Modal Core -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Add Attendence</h4>
      </div>
      <div class="modal-body">
        <form action="/add_attend" method="post">
<center>
  

<select  name="day" class="form-control" ng-model="sel">
  <option>Select</option>
  <option value="1">1</option>
  <option value="2">2</option>
  <option value="3">3</option>
  <option value="4">4</option>
  <option value="5">5</option>
  <option value="6">6</option>
</select>
<div ng-if="sel" class="table-responsive">
<table class="tabl" width="100%">
  <style type="text/css">
    .tabl>tbody>tr{border: 2px solid #ddd!important;}
    .tabl>tbody>tr:nth-child(even) {background: #e3f2fd!important}
    .tabl>tbody>tr>td{padding: 10px!important;}
  </style>
    <tbody>
  <input type="checkbox" onclick="selects(this);">Selectall<tr><th>Name</th><th>P1</th><th ng-if="va == 's'">P2</th><th ng-if="va == 's'">P3</th><th ng-if="va == 's'">P4</th><th ng-if="va == 's'">P5</th><th ng-if="va == 's'">P6</th><th ng-if="va == 's'">P7</th><th ng-if="va == 's'">P8</th></tr>
    {% for data in data %}    <tr>
          <td class="text-center" data-toggle="modal"><span style="font-weight: bold;">{{data[3]}}</span></td>
            <td class="text-center"><input type="checkbox" id="" name="{{data[29]}}"></td>
            <td ng-if="va == 's'" class="text-center"><input type="checkbox" name=""></td>
            <td ng-if="va == 's'" class="text-center"><input type="checkbox" name=""></td>
            <td ng-if="va == 's'" class="text-center"><input type="checkbox" name=""></td>
             <td ng-if="va == 's'" class="text-center"><input type="checkbox" name=""></td>
            <td ng-if="va == 's'" class="text-center"><input type="checkbox" name=""></td>
             <td ng-if="va == 's'" class="text-center"><input type="checkbox" name=""></td>
            <td ng-if="va == 's'" class="text-center"><input type="checkbox" name=""></td>
           
        </tr>
{% endfor %}
    </tbody>
</table>

<button type="submit" class="btn btn-info btn-round">Add</button>
</div>

 </center>
</form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default btn-simple" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-info btn-simple">Save</button>
      </div>
    </div>
  </div>
</div>






				      <div class="content">

	            <div class="container-fluid">
	                <div class="row">
	                    <div class="col-md-12">
	                        <div class="card">
	                        	
	                            <div class="card-header" data-background-color="purple">
	                                <h4 class="title">ATTENDENCE</h4>
									<p class="category">{{dept}} -{{sem}}th semester</p>
	                            </div>


	                            <div class="card-content">					

            <div class="col-lg-3 col-md-6 col-sm-6">
              <div class="card card-stats" >
                <a data-toggle="modal" data-target="#myModal"><div class="card-header" data-background-color="blue">
                  <i class="material-icons">perm_identity</i>
                </div>
                <div class="card-content">
                  <p class="title">ADD_ATTENDENCE</p>
                  <p class="category">Students...</p>
                </div>
                <div class="card-footer">
                  
                </div></a>
              </div>
            </div>
                    
                </div>
<div class="table-responsive">
      <table class="tabl">
  <style type="text/css">
  .tabl{width: 100%}
    .tabl>tbody>tr{border: 2px solid #ddd!important;}
    /*.tabl>tbody>tr:nth-child(even) {background: #e3f2fd!important}*/
    .tabl>tbody>tr>td{padding: 10px!important;}
    input[type]{width: 50px}
  </style>
    <tbody><tr><th class="text-center">Name</th><th class="text-center">Day1</th><th class="text-center">Day2</th><th class="text-center">Day3</th><th class="text-center">Day4</th><th class="text-center">Day5</th><th class="text-center">Day6</th></tr>                           
           
           <tr ng-repeat="no in no">
          <td class="text-center"><span style="font-weight: bold;">{a stud[no] a}</span></td>                                      
               <td class="text-center">{a day1[no] a}</td> 
                <td ng-if="day[no]=={{day2}}" class="text-center">{a period[no] a}</td> 
                <td class="text-center">{a day3[no] a}</td> 
               <td class="text-center">{a day4[no] a}</td> 
                <td class="text-center">{a day5[no] a}</td>
               <td class="text-center">{a day6[no] a}</td> 

                </tr>
             <tr><td class="text-center" >Total no of present</td><td class="text-center">{a presday1 a}</td><td class="text-center">{a presday2 a}</td><td class="text-center">{a presday3 a}</td><td class="text-center">{a presday4 a}</td><td class="text-center">{a presday5 a}</td><td class="text-center">{a presday6 a}</td></tr>
             <tr><td class="text-center" >Total no of absent</td><td class="text-center">{a absday1 a}</td><td class="text-center">{a absday2 a}</td><td class="text-center">{a absday3 a}</td><td class="text-center">{a absday4 a}</td><td class="text-center">{a absday5 a}</td><td class="text-center">{a absday6 a}</td></tr>
            <!--  <tr><td class="text-center" >Percentage</td><td class="text-center">{a percen1 a}</td><td class="text-center">{a percen2 a}</td><td class="text-center">{a percen3 a}</td><td class="text-center">{a percen4 a}</td><td class="text-center">{a percen5 a}</td><td class="text-center">{a percen6 a}</td></tr> -->
      
       </tbody>
     </table>
</div>

            </div>





 						 </div>

			
	                      

						</div>
					</div>
				</div>

                            
                 
                </div>
            </div>

 						 </div>

			
	                      

						</div>
					</div>
				</div>


	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular.min.js">
</script>
        <script>
function selects(source) {
    var checkboxes = document.querySelectorAll('input[type="checkbox"]');
    for (var i = 0; i < checkboxes.length; i++) {
        if (checkboxes[i] != source)
            checkboxes[i].checked = source.checked;
    }
}


var uid = 1;
var app = angular.module('myApp', []);
   app.controller('customersCtrl', function($scope, $http,$location) {

$scope.add=true;
$scope.update=true;

$scope.val=[];

  $scope.chh = [];

      $scope.stud=[];
    $scope.id=[];
    $scope.no=[];
    
$http.get("/student_view.json")
.success(function (data) {
   
  $scope.stu = data;
 for (var i = 0; i < $scope.stu.length; i++) {
   $scope.stud.push($scope.stu[i].Name);
   // alert($scope.stu[i].id);
   $scope.id.push($scope.stu[i].id);
   $scope.no.push(i);

 }

});
$scope.presday1=0;
$scope.absday1=0;
$scope.presday2=0;
$scope.absday2=0;
$scope.presday3=0;
$scope.absday3=0;
$scope.presday4=0;
$scope.absday4=0;
$scope.presday5=0;
$scope.absday5=0;
$scope.presday6=0;
$scope.absday6=0;
$scope.percen2=0;
$scope.day1=[];
$scope.period=[];
$scope.day3=[];
$scope.day4=[];
$scope.day5=[];
$scope.day6=[];
$scope.day=[];


$http.get("/attendence_view.json")
.success(function (data) {         
  $scope.names = data;
  for (var i = 0; i < $scope.names.length; i++) {
   $scope.period.push($scope.names[i].period);
   // alert($scope.names[i].marks);
   $scope.day.push($scope.names[i].day);

    if ($scope.names[i].day=='1') {
    // alert($scope.names[i].period);
    $scope.day1.push($scope.names[i].period);
   }
   else if ($scope.names[i].day=='3') {
    // alert($scope.names[i].period);
    $scope.day3.push($scope.names[i].period);
   }
   else if ($scope.names[i].day=='4') {
    // alert($scope.names[i].period);
    $scope.day4.push($scope.names[i].period);
   }
    else if ($scope.names[i].day=='5') {
    // alert($scope.names[i].period);
    $scope.day4.push($scope.names[i].period);
   }
    else if ($scope.names[i].day=='6') {
    // alert($scope.names[i].period);
    $scope.day4.push($scope.names[i].period);
   }
    if ($scope.names[i].day=='1' && $scope.names[i].period=='P') {
    $scope.presday1+=1;
    // $scope.percen=parseFloat(($scope.pass/$scope.names.length)*100);
   }
   else if ($scope.names[i].day=='1' && $scope.names[i].period=='A') {
    $scope.absday1+=1;
   }
   if ($scope.names[i].day=='2' && $scope.names[i].period=='P') {
    $scope.presday2+=1;
    // $scope.percen=parseFloat(($scope.pass/$scope.names.length)*100);
   }
   else if ($scope.names[i].day=='2' && $scope.names[i].period=='A') {
    $scope.absday2+=1;
   }
     if ($scope.names[i].day=='3' && $scope.names[i].period=='P') {
    $scope.presday3+=1;
    // $scope.percen=parseFloat(($scope.pass/$scope.names.length)*100);
   }
   else if ($scope.names[i].day=='3' && $scope.names[i].period=='A') {
    $scope.absday3+=1;
   }
   if ($scope.names[i].day=='4' && $scope.names[i].period=='P') {
    $scope.presday4+=1;
    // $scope.percen=parseFloat(($scope.pass/$scope.names.length)*100);
   }
   else if ($scope.names[i].day=='4' && $scope.names[i].period=='A') {
    $scope.absday4+=1;
   }
   if ($scope.names[i].day=='5' && $scope.names[i].period=='P') {
    $scope.presday5+=1;
    // $scope.percen=parseFloat(($scope.pass/$scope.names.length)*100);
   }
   else if ($scope.names[i].day=='5' && $scope.names[i].period=='A') {
    $scope.absday5+=1;
   }
   if ($scope.names[i].day=='6' && $scope.names[i].period=='P') {
    $scope.presday6+=1;
    // $scope.percen=parseFloat(($scope.pass/$scope.names.length)*100);
   }
   else if ($scope.names[i].day=='6' && $scope.names[i].period=='A') {
    $scope.absday6+=1;
   }
 }
 

});


$scope.view = function view(id,index) {
      $scope.names1 = angular.copy($scope.names[index]);
}

 

    });
   app.config(['$interpolateProvider', function($interpolateProvider) {
  $interpolateProvider.startSymbol('{a');
  $interpolateProvider.endSymbol('a}');
}]);


</script>
  <!--   Core JS Files   -->

<script src="../static/js/jquery-3.2.1.min.js" type="text/javascript"></script>
<script src="../static/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../static/js/material.min.js" type="text/javascript"></script> 
<script defer type="text/javascript" src="../static/js/material.min1.js"></script>

<!--  Charts Plugin -->
<script src="../static/js/chartist.min.js"></script>
<!--  Dynamic Elements plugin -->
<script src="../static/js/arrive.min.js"></script>
<!--  PerfectScrollbar Library -->
<script src="../static/js/perfect-scrollbar.jquery.min.js"></script>
<!--  Notifications Plugin    -->
<script src="../static/js/bootstrap-notify.js"></script>
<!--  Google Maps Plugin    -->
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>
<!-- Material Dashboard javascript methods -->
<script src="../static/js/material-dashboard.js?v=1.2.0"></script>
<!-- Material Dashboard DEMO methods, don't include it in your project! -->
<script src="../static/js/demo.js"></script>
</body>
</html>
